(function(t){function a(a){for(var r,s,o=a[0],l=a[1],c=a[2],d=0,p=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(a);while(p.length)p.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],r=!0,o=1;o<e.length;o++){var l=e[o];0!==i[l]&&(r=!1)}r&&(n.splice(a--,1),t=s(s.s=e[0]))}return t}var r={},i={authorize:0},n=[];function s(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=r,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)s.d(e,r,function(a){return t[a]}.bind(null,r));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var u=l;n.push([2,"chunk-vendors"]),e()})({2:function(t,a,e){t.exports=e("429a")},"402c":function(t,a,e){"use strict";e("5363");var r=e("2b0e"),i=e("f309");r["a"].use(i["a"]),a["a"]=new i["a"]({icons:{iconfont:"mdi"}})},"429a":function(t,a,e){"use strict";e.r(a);var r=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",[e("v-content",[t.displayable?e("Authorize",{attrs:{isAuthorized:t.isAuthorized,isRequiredLogin:t.isRequiredLogin}}):t._e()],1)],1)},n=[],s=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[r("v-card",{staticClass:"elevation-12 pa-6"},[r("v-toolbar",{attrs:{color:"transparent",flat:""}},[r("v-img",{attrs:{"max-width":"50px",src:e("b05f")}}),r("v-toolbar-title",{staticClass:"ml-3"},[t._v("Feed2Wall")])],1),t.isAuthorized?t.isRequiredLogin?r("v-flex",{attrs:{xs12:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{error:!t.isInstagramAccountUsernameValid,label:"Instagram Username",hint:"Phone number, username, or email",required:""},on:{focusout:t.validateUsername},model:{value:t.instagramUsername,callback:function(a){t.instagramUsername=a},expression:"instagramUsername"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{error:!t.isInstagramAccountPasswordValid,label:"Instagram password",type:"password",required:""},on:{focusout:t.validatePassword},model:{value:t.instagramPassword,callback:function(a){t.instagramPassword=a},expression:"instagramPassword"}})],1)],1):t._e():r("v-card-text",[r("v-text-field",{attrs:{type:"password",label:"Enter Authorization Key"},model:{value:t.authorizationKey,callback:function(a){t.authorizationKey=a},expression:"authorizationKey"}})],1),r("v-card-actions",[r("h4",{directives:[{name:"show",rawName:"v-show",value:t.displayAlert,expression:"displayAlert"}],staticClass:"red--text"},[t._v(t._s(t.alertMsg))]),r("v-spacer"),t.isAuthorized?t.isRequiredLogin?r("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.saveLoginInfo}},[t._v("Save")]):t._e():r("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.authorize}},[t._v("Submit")])],1)],1)],1)],1)],1)},o=[],l=e("bc3a"),c=e.n(l),u={name:"Authorize",props:{isAuthorized:{type:Boolean,required:!0},isRequiredLogin:{type:Boolean,required:!0}},data(){return{authorizationKey:"",instagramUsername:"",instagramPassword:"",isInstagramAccountUsernameValid:!1,isInstagramAccountPasswordValid:!1,displayAlert:!1,alertMsg:""}},methods:{async authorize(){try{const a={authorizationKey:this.authorizationKey},{data:e}=await c.a.post(`http://${location.host}/api/v1/authorize`,a),r=e.lastRequestedUri;this.displayAlert=!1,this.isRequiredInstagramLogin||(window.location.href=`http://${location.host}${r}`)}catch(t){console.warn(t),this.alertMsg="Authorization failed",this.displayAlert=!0}},validateUsername(){this.isInstagramAccountUsernameValid=0!==this.instagramUsername.length},validatePassword(){this.isInstagramAccountPasswordValid=0!==this.instagramPassword.length},async saveLoginInfo(){try{const a={username:this.instagramUsername,password:this.instagramPassword},{data:e}=await c.a.post(`http://${location.host}/api/v1/save-instagram-login-info`,a);if(e.success){const t=e.lastRequestUri;this.displayAlert=!1,window.location.href=`http://${location.host}${t}`}else this.displayAlert=!0,this.alertMsg=e.error}catch(t){console.warn(t),this.alertMsg="Saving login info failed!",this.displayAlert=!0}}}},d=u,p=e("2877"),h=e("6544"),f=e.n(h),v=e("8336"),m=e("b0af"),g=e("99d9"),b=e("62ad"),y=e("a523"),w=e("0e8f"),A=e("adda"),x=e("0fd9"),z=e("2fa4"),V=e("8654"),P=e("71d9"),_=e("2a7f"),q=Object(p["a"])(d,s,o,!1,null,"c0ea751e",null),O=q.exports;f()(q,{VBtn:v["a"],VCard:m["a"],VCardActions:g["a"],VCardText:g["b"],VCol:b["a"],VContainer:y["a"],VFlex:w["a"],VImg:A["a"],VRow:x["a"],VSpacer:z["a"],VTextField:V["a"],VToolbar:P["a"],VToolbarTitle:_["a"]});var U=e("4666"),j={name:"App",data(){return{displayable:!1,isAuthorized:!0,isRequiredLogin:!1}},components:{Authorize:O},async beforeCreate(){try{const a=await Object(U["b"])(),e=await Object(U["a"])();this.displayable=!a||e,this.isAuthorized=a,this.isRequiredLogin=e,this.displayable||(window.location.href=`http://${location.host}/`)}catch(t){console.error(t)}}},I=j,R=e("7496"),$=e("a75b"),C=Object(p["a"])(I,i,n,!1,null,"c50d80e2",null),L=C.exports;f()(C,{VApp:R["a"],VContent:$["a"]});var k=e("402c");r["a"].config.productionTip=!1,new r["a"]({vuetify:k["a"],render:t=>t(L)}).$mount("#app")},4666:function(t,a,e){"use strict";e.d(a,"b",function(){return n}),e.d(a,"a",function(){return s});var r=e("bc3a"),i=e.n(r);async function n(){const{data:t}=await i.a.get(`http://${location.host}/api/v1/is-authorized`);return t.isUserAuthorized}async function s(){const{data:t}=await i.a.get(`http://${location.host}/api/v1/is-required-login`);return t.isRequiredLogin}},b05f:function(t,a,e){t.exports=e.p+"img/rockiton_black.13b5e8b3.png"}});
//# sourceMappingURL=authorize.b25ff1d7.js.map